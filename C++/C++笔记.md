## C++核心编程

###1 非面向对象方面的扩充

#### 1.1 输入输出

`cin`和`cout`

- 需要头文件`iostream`
- `endl`等价于`\n`用作换行
- 不同进制的输出

#### 1.2 转换基数的操作符

```c++
#include <iostream>

using namespace std;

int main() {
	int x = 25;
	cout << hex << x << endl;//hex转换为十六进制
	cout << dec << x << endl;//dec转换为十进制
	cout << oct << x << endl;//oct转换为八进制
	system("pause");
	return 0;
}
```



#### 1.3 结构体名、联合名和枚举名可直接作为变量名

```c++
enum Bool{
	False,
	True
};
struct String {
    char* ptr;
    int length;
};

//定义变量时可省略关键字
Bool done;
String str;
```



#### 1.4 `const`修饰符

- 消除了`#define`的不安全性 
- 修饰整形时可省略`int`
- 可用`const`修饰形参，优化函数

`const`修饰指针的用法

```c++
const char* name = "chen";//不能改变地址中的常量，但指针的指向可以被改变
char* const name = "chen";//可以改变地址中的数据，但不能改变指针的指向（常指针）
const char* const name = "chen";//都不能改变，指向常量的常指针
```

#### 1.5 作用域运算符`::`

- 在变量名前加上`::`可以在局部变量的作用域内访问被屏蔽的全局变量
- 可用来解决局部变量与全局变量的重名问题

#### 1.6 强制类型转换

```c++
int i = 10;
double x;
x = (double)i;//c语言
x = double(i);//c++
```

- 更推荐后一种

#### 1.7 内存分区模型

C++程序在执行时，将内存大方向划分为**4个区域**

- 代码区：存放函数体的二进制代码，由**操作系统进行管理**的
- 全局区：存放全局变量和静态变量以及常量
- 栈区：由**编译器自动分配释放**, 存放函数的参数值,局部变量等
- 堆区：由**程序员分配和释放**,若程序员不释放,程序结束时由操作系统回收



### 2.引用

#### 2.1 引用的基本使用

引用：给变量起别名

```c++
int a = 10;
int &b = a;
```



#### 2.2 引用的注意事项

- 定义时必须初始化
- 初始化之后就不可更改

#### 2.3 引用作函数参数

以引用作为形参，可以简化指针操作

#### 2.4 引用做函数返回值



#### 2.5 引用的本质

本质：引用的本质在c++内部实现是一个**指针常量.**

引用转换为 `int* const ref = &a;`

C++推荐用引用技术，因为语法方便，引用本质是指针常量，但是所有的指针操作编译器都帮我们做了



### 3.函数提高

#### 内联函数

- 将`inline`加在函数之前
- 以该内联函数函数体的**代码直接代替**函数的调用，以实参代替形参，**以空间换时间**
- 通常将**规模很小**且需要**频繁调用**的函数定义为内联函数

```c++
#include <iostream>
using namespace std;

inline int doub(int num) {
	return num * 2;
}

int main() {
	inline int doub(int);
	for (int i = 1; i <= 3; i++) {
		cout << doub(i) << endl;
	}
	system("pause");
	return 0;
}
```



#### 带有默认参数的函数



#### 函数的重载

- 函数名可以重复，但**参数类型和数量不同**
- 只有返回值类型不同则不允许重载



### 4 类和对象

C++面向对象的三大特性：封装、继承、多态

#### 4.1 封装

##### 4.1.1 封装的意义

* 将属性和行为作为一个整体，表现生活中的事物
* 将属性和行为加以权限控制

##### 4.1.2 `struct`和`class`的区别

默认权限不同

##### 4.1.3 成员属性设置为私有

- 访问权限有三种：


1. `public`      公共权限  
2. `protected` 保护权限
3. `private`     私有权限

- 优点1：可以自己控制读写权限（用getter和setter）
- 优点2：对于写，可以验证数据的有效性（例如在setter函数中限定年龄为0~150）

#### 4.2 对象的初始化和清理

##### 4.2.1构造函数和析构函数



##### 4.2.2 构造函数的分类及调用



##### 4.2.3 拷贝构造函数调用时机



##### 4.2.4 构造函数调用规则



##### 4.2.5 深拷贝与浅拷贝



##### 4.2.6 初始化列表



##### 4.2.7 类对象作为类成员



##### 4.2.8 静态成员
